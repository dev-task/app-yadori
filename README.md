# Yadori - ä½ã¾ã„ã®å£ã‚³ãƒŸSNS / Housing Review Social Network

[English](#english) | [æ—¥æœ¬èª](#japanese)

<a id="japanese"></a>
## æ—¥æœ¬èª

### ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

Yadoriã¯ã€å®Ÿéš›ã«ä½ã‚“ã çµŒé¨“ã‚’ã‚‚ã¨ã«ã€ãƒªã‚¢ãƒ«ãªä½ã¾ã„æƒ…å ±ã‚’å…±æœ‰ãƒ»ç™ºè¦‹ã§ãã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä½ã¾ã„ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æŠ•ç¨¿ã—ã€ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãã‚Œã‚‰ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æ¤œç´¢ãƒ»é–²è¦§ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä½ã¾ã„æ¢ã—ã‚’ã‚ˆã‚Šè‰¯ã„ä½“é¨“ã«ã™ã‚‹ãŸã‚ã®SNSã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

### âœ¨ ä¸»ãªæ©Ÿèƒ½

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼**: ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
- **ãƒ¬ãƒ“ãƒ¥ãƒ¼æŠ•ç¨¿**: ä½ã¾ã„ã®è©•ä¾¡ã€ã‚³ãƒ¡ãƒ³ãƒˆã€å†™çœŸã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- **åœ°å›³ã‹ã‚‰ã®ä½æ‰€é¸æŠ**: Mapboxã‚’ä½¿ç”¨ã—ãŸç›´æ„Ÿçš„ãªä½ç½®é¸æŠ
- **ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: æ§˜ã€…ãªæ¡ä»¶ã§ã®æ¤œç´¢ãŒå¯èƒ½
- **ã„ã„ã­æ©Ÿèƒ½**: ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¸ã®ã€Œã„ã„ã­ã€
- **ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½**: ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¸ã®ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿
- **ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®ç·¨é›†
- **å¤šè¨€èªå¯¾å¿œ**: æ—¥æœ¬èªã¨è‹±èªã®ã‚µãƒãƒ¼ãƒˆ
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ¢ãƒã‚¤ãƒ«ã‹ã‚‰ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã¾ã§å¯¾å¿œ

### ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: 
  - React 18.3.1
  - TypeScript 5.5.3
  - Tailwind CSS 3.4.1
  - Vite 5.4.2 (ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«)
  - React Router DOM 6.20.1 (ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
  - React i18next 13.5.0 (å›½éš›åŒ–)
  - Lucide React 0.344.0 (ã‚¢ã‚¤ã‚³ãƒ³)
  - Mapbox GL JS 3.13.0 (åœ°å›³æ©Ÿèƒ½)

- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: 
  - Supabase 2.39.0 (BaaS)
    - PostgreSQL (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹)
    - Supabase Auth (èªè¨¼)
    - Supabase Storage (ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸)
    - Auto-generated REST API

### ğŸ”§ Supabaseè¨­å®š

Supabaseã¯ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã¾ã™ï¼š

1. **èªè¨¼ (Auth)**
   - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
   - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã®ä¿å­˜

2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ (Database)**
   - PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
   - Row Level Security (RLS) ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³

3. **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (Storage)**
   - ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒã®ä¿å­˜
   - ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«

4. **API**
   - è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸRESTful API
   - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã‚‹ç°¡å˜ãªã‚¢ã‚¯ã‚»ã‚¹

Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¨­å®šã™ã‚‹ã«ã¯ï¼š

1. [Supabase](https://supabase.com/)ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ
2. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
3. `supabase/migrations`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®SQLã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã‚’è¨­å®š
4. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆURLã¨åŒ¿åã‚­ãƒ¼ã‚’`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®š

### ğŸ—ºï¸ åœ°å›³æ©Ÿèƒ½ã®è©³ç´°

Yadoriã§ã¯ã€Mapbox GL JSã‚’ä½¿ç”¨ã—ã¦ä»¥ä¸‹ã®åœ°å›³æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã¾ã™ï¼š

1. **åœ°å›³ã‹ã‚‰ã®ä½æ‰€é¸æŠ**
   - æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ã§ã€Œåœ°å›³ã§é¸æŠã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨åœ°å›³ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
   - ä½æ‰€æ¤œç´¢ãƒãƒ¼ã§å ´æ‰€ã‚’æ¤œç´¢ã™ã‚‹ã‹ã€åœ°å›³ä¸Šã§ç›´æ¥ãƒ”ãƒ³ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ä½ç½®ã‚’é¸æŠã§ãã¾ã™
   - é¸æŠã—ãŸä½ç½®ã®ä½æ‰€ã¯è‡ªå‹•çš„ã«ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã•ã‚Œã¾ã™

2. **ä½ç½®æƒ…å ±ã®è¡¨ç¤º**
   - ãƒ¬ãƒ“ãƒ¥ãƒ¼è©³ç´°ãƒšãƒ¼ã‚¸ã§ã¯ã€æŠ•ç¨¿ã•ã‚ŒãŸä½æ‰€ã®ä½ç½®ãŒåœ°å›³ä¸Šã«è¡¨ç¤ºã•ã‚Œã¾ã™
   - ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã«é…æ…®ã—ã€æ­£ç¢ºãªä½æ‰€ã§ã¯ãªãæœ€å¯„ã‚Šé§…ã‹ã‚‰ã®è·é›¢è¡¨è¨˜ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™

3. **åœ°å›³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ**
   - MapModal: åœ°å›³é¸æŠãƒ¢ãƒ¼ãƒ€ãƒ«
   - MapboxMap: Mapboxåœ°å›³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
   - AddressSearchBar: ä½æ‰€æ¤œç´¢ãƒãƒ¼
   - LocationPicker: ä½ç½®é¸æŠãƒ”ãƒ³

### ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ–¹æ³•

#### å‰ææ¡ä»¶

- Node.js (v18ä»¥ä¸Š)
- npm ã¾ãŸã¯ yarn
- Supabaseã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- Mapbox APIã‚­ãƒ¼

#### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã™ã‚‹
   ```bash
   git clone https://github.com/yourusername/yadori.git
   cd yadori
   ```

2. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
   ```bash
   npm install
   # ã¾ãŸã¯
   yarn install
   ```

3. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã™ã‚‹
   - `.env.example`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`.env`ã«ã‚³ãƒ”ãƒ¼ã—ã€å¿…è¦ãªç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™
   ```bash
   cp .env.example .env
   ```
   - ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ãã ã•ã„:
     - `VITE_SUPABASE_URL`: Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®URL
     - `VITE_SUPABASE_ANON_KEY`: Supabaseã®åŒ¿åã‚­ãƒ¼
     - `VITE_MAPBOX_ACCESS_TOKEN`: Mapboxã®ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³API

4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹
   ```bash
   npm run dev
   # ã¾ãŸã¯
   yarn dev
   ```

5. ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:5173 ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹

#### ãƒ“ãƒ«ãƒ‰æ–¹æ³•

æœ¬ç•ªç’°å¢ƒç”¨ã®ãƒ“ãƒ«ãƒ‰ã‚’ä½œæˆã™ã‚‹ã«ã¯:

```bash
npm run build
# ã¾ãŸã¯
yarn build
```

ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ `dist` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚

### ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 

Yadoriã¯ä»¥ä¸‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼š

- **users**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±
  - id (uuid): ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼
  - nickname (string): ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ 
  - email (string): ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
  - bio (string): è‡ªå·±ç´¹ä»‹
  - created_at (timestamp): ä½œæˆæ—¥æ™‚
  - updated_at (timestamp): æ›´æ–°æ—¥æ™‚

- **reviews**: ãƒ¬ãƒ“ãƒ¥ãƒ¼æŠ•ç¨¿ãƒ‡ãƒ¼ã‚¿
  - id (int): ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼
  - user_id (uuid): æŠ•ç¨¿è€…ID (å¤–éƒ¨ã‚­ãƒ¼)
  - address_text (string): ä½æ‰€ãƒ†ã‚­ã‚¹ãƒˆ
  - latitude (float): ç·¯åº¦
  - longitude (float): çµŒåº¦
  - rent (int): å®¶è³ƒ
  - layout (string): é–“å–ã‚Š
  - period_lived (string): å±…ä½æœŸé–“
  - pros_text (string): è‰¯ã‹ã£ãŸç‚¹
  - cons_text (string): æ‚ªã‹ã£ãŸç‚¹
  - rating_location (int): ç«‹åœ°è©•ä¾¡
  - rating_sunlight (int): æ—¥å½“ãŸã‚Šè©•ä¾¡
  - rating_soundproof (int): é˜²éŸ³è©•ä¾¡
  - rating_environment (int): ç’°å¢ƒè©•ä¾¡
  - created_at (timestamp): ä½œæˆæ—¥æ™‚
  - updated_at (timestamp): æ›´æ–°æ—¥æ™‚

- **review_images**: ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒ
- **comments**: ã‚³ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿
- **likes**: ã„ã„ã­æƒ…å ±

### ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
src/
â”œâ”€â”€ components/       # å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ Layout.tsx    # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ auth/         # èªè¨¼é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ map/          # åœ°å›³é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ contexts/         # Reactã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ AuthContext.tsx  # èªè¨¼çŠ¶æ…‹ç®¡ç†
â”‚   â””â”€â”€ I18nContext.tsx  # å›½éš›åŒ–ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”œâ”€â”€ i18n/             # å›½éš›åŒ–ãƒªã‚½ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ index.ts      # i18nè¨­å®š
â”‚   â””â”€â”€ locales/      # ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«
â”‚       â”œâ”€â”€ ja.json   # æ—¥æœ¬èªç¿»è¨³
â”‚       â””â”€â”€ en.json   # è‹±èªç¿»è¨³
â”œâ”€â”€ lib/              # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”œâ”€â”€ pages/            # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ HomePage.tsx  # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ PostPage.tsx  # æŠ•ç¨¿ãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ ...           # ãã®ä»–ã®ãƒšãƒ¼ã‚¸
â”œâ”€â”€ utils/            # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”œâ”€â”€ App.tsx           # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â””â”€â”€ main.tsx          # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

### ğŸŒ å¤šè¨€èªå¯¾å¿œ

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€`react-i18next`ã‚’ä½¿ç”¨ã—ã¦æ—¥æœ¬èªã¨è‹±èªã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

#### è¨€èªãƒ•ã‚¡ã‚¤ãƒ«

ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®å ´æ‰€ã«ã‚ã‚Šã¾ã™ï¼š
- æ—¥æœ¬èª: `src/i18n/locales/ja.json`
- è‹±èª: `src/i18n/locales/en.json`

#### è¨€èªåˆ‡ã‚Šæ›¿ãˆ

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†…ã§è¨€èªã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚è¨€èªè¨­å®šã¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã•ã‚Œã€æ¬¡å›ã®ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«è‡ªå‹•çš„ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚

#### æ–°ã—ã„è¨€èªã®è¿½åŠ æ–¹æ³•

1. `src/i18n/locales/`ã«æ–°ã—ã„è¨€èªãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹ï¼š`fr.json`ï¼‰ã‚’ä½œæˆ
2. `src/i18n/index.ts`ã«æ–°ã—ã„è¨€èªã‚’è¿½åŠ 
3. è¨€èªåˆ‡ã‚Šæ›¿ãˆUIã«æ–°ã—ã„è¨€èªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 

#### ç¿»è¨³ã®ä½¿ç”¨ä¾‹

```tsx
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();
  
  return (
    <div>
      <h1>{t('home.title')}</h1>
      <p>{t('home.subtitle')}</p>
    </div>
  );
}
```

### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

#### APIã‚­ãƒ¼ç®¡ç†
- Mapbox APIã‚­ãƒ¼ã¯ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†ã—ã¦ã„ã¾ã™
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨ã®åˆ¶é™ä»˜ãAPIã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™
- æœ¬ç•ªç’°å¢ƒã§ã¯é©åˆ‡ãªãƒªãƒ•ã‚¡ãƒ©ãƒ¼åˆ¶é™ã‚’è¨­å®šã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™

#### ä½ç½®æƒ…å ±ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼
- æ­£ç¢ºãªä½æ‰€ã§ã¯ãªãã€æœ€å¯„ã‚Šé§…ã‹ã‚‰ã®è·é›¢è¡¨è¨˜ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè©³ç´°ãªä½æ‰€ã‚’å…¥åŠ›ã—ãŸå ´åˆã®æ³¨æ„å–šèµ·ã‚’è¡Œã£ã¦ã„ã¾ã™
- ä½ç½®æƒ…å ±ã®ç²¾åº¦èª¿æ•´ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ã¾ã™

### ğŸŒ ãƒ‡ãƒ—ãƒ­ã‚¤

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ Netlify ãªã©ã®é™çš„ã‚µã‚¤ãƒˆãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ğŸ“ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è²¢çŒ®ã¯æ­“è¿ã—ã¾ã™ã€‚ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„:

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã™ã‚‹
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã™ã‚‹ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆã™ã‚‹ (`git commit -m 'Add some amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹

### ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

<a id="english"></a>
## English

### ğŸ“ Project Overview

Yadori is a platform where users can share and discover real housing information based on actual living experiences. Users can post reviews of their housing, and others can search and browse these reviews. It's a social networking application designed to make house hunting a better experience.

### âœ¨ Key Features

- **User Authentication**: Registration and login functionality
- **Review Posting**: Housing evaluations, comments, and photo uploads
- **Map-based Address Selection**: Intuitive location selection using Mapbox
- **Review Search & Filtering**: Search by various criteria
- **Like Functionality**: "Like" reviews
- **Comment Functionality**: Post comments on reviews
- **Profile Management**: Edit user profiles
- **Multilingual Support**: Japanese and English languages
- **Responsive Design**: Works from mobile to desktop

### ğŸ› ï¸ Technology Stack

- **Frontend**: 
  - React 18.3.1
  - TypeScript 5.5.3
  - Tailwind CSS 3.4.1
  - Vite 5.4.2 (build tool)
  - React Router DOM 6.20.1 (routing)
  - React i18next 13.5.0 (internationalization)
  - Lucide React 0.344.0 (icons)
  - Mapbox GL JS 3.13.0 (map functionality)

- **Backend**: 
  - Supabase 2.39.0 (BaaS)
    - PostgreSQL (database)
    - Supabase Auth (authentication)
    - Supabase Storage (storage)
    - Auto-generated REST API

### ğŸ”§ Supabase Configuration

Supabase is used as the backend for this project. It provides the following features:

1. **Authentication (Auth)**
   - Email/password user authentication
   - Session management
   - User profile information storage

2. **Database**
   - PostgreSQL database
   - Row Level Security (RLS) for data access control
   - Real-time subscriptions

3. **Storage**
   - Review image storage
   - Access control and security rules

4. **API**
   - Auto-generated RESTful API
   - Easy access via client libraries

To set up a Supabase project:

1. Create an account on [Supabase](https://supabase.com/)
2. Create a new project
3. Run the SQL scripts in the `supabase/migrations` directory to set up the database schema
4. Set the project URL and anonymous key in your `.env` file

### ğŸ—ºï¸ Map Functionality Details

Yadori uses Mapbox GL JS to provide the following map features:

1. **Map-based Address Selection**
   - Click the "Select on Map" button in the post form to display the map modal
   - Search for a location using the address search bar or drag the pin directly on the map
   - The address of the selected location is automatically entered into the form

2. **Location Display**
   - The review detail page displays the location of the posted address on a map
   - For privacy considerations, we recommend indicating the distance from the nearest station rather than the exact address

3. **Map Component Structure**
   - MapModal: Map selection modal
   - MapboxMap: Mapbox map component
   - AddressSearchBar: Address search bar
   - LocationPicker: Location selection pin

### ğŸš€ Setup Instructions

#### Prerequisites

- Node.js (v18 or higher)
- npm or yarn
- Supabase account
- Mapbox API key

#### Installation Steps

1. Clone the repository
   ```bash
   git clone https://github.com/yourusername/yadori.git
   cd yadori
   ```

2. Install dependencies
   ```bash
   npm install
   # or
   yarn install
   ```

3. Set up environment variables
   - Copy the `.env.example` file to `.env` and configure the necessary environment variables
   ```bash
   cp .env.example .env
   ```
   - Set the following environment variables:
     - `VITE_SUPABASE_URL`: Your Supabase project URL
     - `VITE_SUPABASE_ANON_KEY`: Your Supabase anonymous key
     - `VITE_MAPBOX_ACCESS_TOKEN`: Your Mapbox access token API

4. Start the development server
   ```bash
   npm run dev
   # or
   yarn dev
   ```

5. Access the application in your browser at http://localhost:5173

#### Build Instructions

To create a production build:

```bash
npm run build
# or
yarn build
```

The built files will be generated in the `dist` directory.

### ğŸ“Š Database Structure

Yadori uses the following table structure:

- **users**: User profile information
  - id (uuid): Primary key
  - nickname (string): User nickname
  - email (string): Email address
  - bio (string): User bio
  - created_at (timestamp): Creation timestamp
  - updated_at (timestamp): Update timestamp

- **reviews**: Review post data
  - id (int): Primary key
  - user_id (uuid): Poster ID (foreign key)
  - address_text (string): Address text
  - latitude (float): Latitude
  - longitude (float): Longitude
  - rent (int): Rent amount
  - layout (string): Room layout
  - period_lived (string): Period lived
  - pros_text (string): Positive points
  - cons_text (string): Negative points
  - rating_location (int): Location rating
  - rating_sunlight (int): Sunlight rating
  - rating_soundproof (int): Soundproofing rating
  - rating_environment (int): Environment rating
  - created_at (timestamp): Creation timestamp
  - updated_at (timestamp): Update timestamp

- **review_images**: Review images
- **comments**: Comment data
- **likes**: Like information

### ğŸ“ Project Structure

```
src/
â”œâ”€â”€ components/       # Reusable UI components
â”‚   â”œâ”€â”€ Layout.tsx    # Application layout
â”‚   â”œâ”€â”€ auth/         # Authentication-related components
â”‚   â””â”€â”€ map/          # Map-related components
â”œâ”€â”€ contexts/         # React contexts
â”‚   â”œâ”€â”€ AuthContext.tsx  # Authentication state management
â”‚   â””â”€â”€ I18nContext.tsx  # Internationalization context
â”œâ”€â”€ i18n/             # Internationalization resources
â”‚   â”œâ”€â”€ index.ts      # i18n configuration
â”‚   â””â”€â”€ locales/      # Translation files
â”‚       â”œâ”€â”€ ja.json   # Japanese translations
â”‚       â””â”€â”€ en.json   # English translations
â”œâ”€â”€ lib/              # Utility libraries
â”œâ”€â”€ pages/            # Application pages
â”‚   â”œâ”€â”€ HomePage.tsx  # Home page
â”‚   â”œâ”€â”€ PostPage.tsx  # Post page
â”‚   â””â”€â”€ ...           # Other pages
â”œâ”€â”€ utils/            # Utility functions
â”œâ”€â”€ App.tsx           # Main application component
â””â”€â”€ main.tsx          # Application entry point
```

### ğŸŒ Internationalization

This application supports both Japanese and English using `react-i18next`.

#### Language Files

Translation files are located at:
- Japanese: `src/i18n/locales/ja.json`
- English: `src/i18n/locales/en.json`

#### Language Switching

You can switch languages within the application. Language settings are saved in local storage and automatically applied on subsequent visits.

#### Adding a New Language

1. Create a new language file in `src/i18n/locales/` (e.g., `fr.json`)
2. Add the new language to `src/i18n/index.ts`
3. Add the new language option to the language switcher UI

#### Translation Usage Example

```tsx
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();
  
  return (
    <div>
      <h1>{t('home.title')}</h1>
      <p>{t('home.subtitle')}</p>
    </div>
  );
}
```

### ğŸ”’ Security Considerations

#### API Key Management
- Mapbox API keys are managed using environment variables
- We use restricted API keys for frontend use
- We recommend setting appropriate referrer restrictions in production environments

#### Location Privacy
- We recommend indicating the distance from the nearest station rather than the exact address
- We provide warnings when users enter detailed address information
- We offer location precision adjustment options

### ğŸŒ Deployment

The frontend can be deployed to static site hosting services like Netlify.

### ğŸ“ Contributing

Contributions to the project are welcome. Please follow these steps:

1. Fork this repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Create a Pull Request

### ğŸ“„ License

This project is released under the MIT License.